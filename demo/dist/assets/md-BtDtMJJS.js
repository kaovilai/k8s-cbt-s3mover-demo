import{_ as d}from"./slidev/VClick-BoJm2xzU.js";import{_ as p}from"./slidev/VClicks-Mn9Jk-sC.js";import{b as c,o as m,w as e,g as l,e as o,A as n,v as _,x as f,B as u}from"./modules/vue-CoVZSFTd.js";import{I as g}from"./slidev/default-TlP3ujJr.js";import{u as v,f as A}from"./slidev/context-BOoq_q_z.js";import"./index-2JM-T1bm.js";import"./modules/shiki-D8j2JMkf.js";const C={grid:"~ cols-2 gap-8",class:"text-sm"},R={__name:"slides.md__slidev_3",setup(x){const{$clicksContext:a,$frontmatter:i}=v();return a.setup(),(S,t)=>{const r=p,s=d;return m(),c(g,_(f(u(A)(u(i),2))),{default:e(()=>[t[4]||(t[4]=l("h1",null,"CBT API Architecture (KEP-3314)",-1)),l("div",C,[l("div",null,[t[1]||(t[1]=l("h2",null,"Three Key Components",-1)),o(r,{depth:"2"},{default:e(()=>[...t[0]||(t[0]=[l("ol",null,[l("li",null,[l("p",null,[l("strong",null,"CSI SnapshotMetadata Service API")]),l("ul",null,[l("li",null,[l("code",null,"GetMetadataAllocated"),n(" RPC")]),l("li",null,[l("code",null,"GetMetadataDelta"),n(" RPC")])])]),l("li",null,[l("p",null,[l("strong",null,"SnapshotMetadataService CRD")]),l("ul",null,[l("li",null,"Advertises service availability"),l("li",null,"Connection details & CA cert")])]),l("li",null,[l("p",null,[l("strong",null,"External Snapshot Metadata Sidecar")]),l("ul",null,[l("li",null,"Validates K8s auth tokens"),l("li",null,"Translates names to handles"),l("li",null,"Forwards requests to CSI")])])],-1)])]),_:1})]),l("div",null,[o(s,null,{default:e(()=>[...t[2]||(t[2]=[l("h2",null,"Security Model",-1),l("ul",null,[l("li",null,[l("strong",null,"Authentication"),n(": TokenRequest API")]),l("li",null,[l("strong",null,"Authorization"),n(": RBAC + SubjectAccessReview")]),l("li",null,[l("strong",null,"Transport"),n(": Mutual TLS")]),l("li",null,[l("strong",null,"Token scoping"),n(": Audience-bound")])],-1)])]),_:1}),o(s,null,{default:e(()=>[...t[3]||(t[3]=[l("div",{class:"mt-3"},[l("h2",null,"Metadata Formats"),l("ul",null,[l("li",null,[l("strong",null,"FIXED_LENGTH"),n(": Uniform blocks")]),l("li",null,[l("strong",null,"VARIABLE_LENGTH"),n(": Variable extents")])]),l("div",{class:"text-xs mt-1 opacity-70"}," Both support resumption via `starting_offset` ")],-1)])]),_:1})])])]),_:1},16)}}};export{R as default};
